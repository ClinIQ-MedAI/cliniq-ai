<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณุงุนุฏ ุงูุฑุนุงูุฉ ุงูุตุญูุฉ | Healthcare Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <div class="chatbot-wrapper">
            <!-- Header -->
            <div class="header">
                <h1>ClinIQ</h1>
                <p>ูุณุงุนุฏู ุงูุตุญู ุงูุฐูู</p>
            </div>

            <!-- Chat Messages Area -->
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <p>ูุฑุญุจุงู! ๐ ููู ุฃูุฏุฑ ุฃุณุงุนุฏูุ</p>
                </div>
            </div>

            <!-- File Upload Preview -->
            <div id="uploadPreview" class="upload-preview hidden">
                <div class="preview-content">
                    <img id="imagePreview" src="" alt="Preview" class="hidden">
                    <div id="pdfPreview" class="pdf-icon hidden">๐ PDF</div>
                    <span id="fileName"></span>
                    <button type="button" onclick="clearUpload()" class="clear-btn">โ</button>
                </div>
                <div class="image-type-selector" id="imageTypeSelector">
                    <label>
                        <input type="radio" name="imageType" value="dental_photo" checked> ๐ฆท ุตูุฑุฉ ุฃุณูุงู
                    </label>
                    <label>
                        <input type="radio" name="imageType" value="dental_xray"> ๐ฉป ุฃุดุนุฉ ุฃุณูุงู
                    </label>
                    <label>
                        <input type="radio" name="imageType" value="bone"> ๐ฆด ุฃุดุนุฉ ุนุธุงู
                    </label>
                    <label>
                        <input type="radio" name="imageType" value="chest"> ๐ซ ุฃุดุนุฉ ุตุฏุฑ
                    </label>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <form id="chatForm" onsubmit="sendMessage(event)">
                    <input type="text" id="messageInput" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง... / Type your message..."
                        autocomplete="off">
                    <label for="fileInput" class="file-upload-btn" title="ุงุฑูุน ุตูุฑุฉ ุฃู PDF">
                        ๐
                    </label>
                    <input type="file" id="fileInput" accept=".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf"
                        onchange="handleFileSelect(event)" style="display: none;">
                    <button type="submit" id="sendButton">โค</button>
                </form>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button onclick="quickAction('ุฃุฎุจุฑูู ุนู ุฃุนุฑุงุถ ุงูุฅูููููุฒุง')">๐ค ุงูุฅูููููุฒุง</button>
                <button onclick="quickAction('ุฃุฑูุฏ ุญุฌุฒ ููุนุฏ')">๐ ุญุฌุฒ ููุนุฏ</button>
                <button onclick="document.getElementById('fileInput').click()">๐ท ุฑูุน ุตูุฑุฉ</button>
                <button onclick="quickAction('ูุง ูู ุณุงุนุงุช ุนูู ุงูุนูุงุฏุฉุ')">๐ ุณุงุนุงุช ุงูุนูู</button>
            </div>
        </div>
    </div>

    <!-- Modal for booking appointments -->
    <div id="bookingModal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeBookingModal()">&times;</span>
            <h2>ุญุฌุฒ ููุนุฏ</h2>

            <form id="bookingForm" onsubmit="submitBooking(event)">
                <div class="form-group">
                    <label for="patientName">ุงูุงุณู:</label>
                    <input type="text" id="patientName" required>
                </div>

                <div class="form-group">
                    <label for="doctorSelect">ุงุฎุชุฑ ุงูุทุจูุจ:</label>
                    <select id="doctorSelect" required onchange="updateAvailability()">
                        <option value="">-- ุงุฎุชุฑ ุทุจูุจ --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="daySelect">ุงุฎุชุฑ ุงูููู:</label>
                    <select id="daySelect" required onchange="updateTimeSlots()">
                        <option value="">-- ุงุฎุชุฑ ููู --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="timeSelect">ุงุฎุชุฑ ุงูููุช:</label>
                    <select id="timeSelect" required onchange="checkQueue()">
                        <option value="">-- ุงุฎุชุฑ ููุช --</option>
                    </select>
                </div>

                <div id="queueInfo" class="queue-info hidden">
                    <p id="queueText"></p>
                </div>

                <button type="submit" class="submit-btn">ุชุฃููุฏ ุงูุญุฌุฒ</button>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>