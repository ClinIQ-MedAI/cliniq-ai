<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="chatbot-wrapper">
            <!-- Header -->
            <div class="header">
                <h1>Healthcare Assistant</h1>
                <p>Ask about diseases, book appointments, or get clinic information</p>
            </div>

            <!-- Chat Messages Area -->
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <p>Hello! I'm your healthcare assistant. I can help you with:</p>
                    <ul>
                        <li>General health information about diseases and symptoms</li>
                        <li>Book appointments with our doctors</li>
                        <li>Check doctor availability</li>
                        <li>Answer questions about our clinic</li>
                    </ul>
                    <p>How can I help you today?</p>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <form id="chatForm" onsubmit="sendMessage(event)">
                    <input 
                        type="text" 
                        id="messageInput" 
                        placeholder="اكتب رسالتك هنا... / Type your message..." 
                        autocomplete="off"
                    >
                    <button type="submit" id="sendButton">➤</button>
                </form>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button onclick="quickAction('Tell me about flu symptoms')">Flu Info</button>
                <button onclick="quickAction('I want to book an appointment')">Book Appointment</button>
                <button onclick="quickAction('What are your clinic hours?')">Clinic Hours</button>
                <button onclick="quickAction('Which doctors are available?')">Available Doctors</button>
            </div>
        </div>
    </div>

    <!-- Modal for booking appointments -->
    <div id="bookingModal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeBookingModal()">&times;</span>
            <h2>Book an Appointment</h2>
            
            <form id="bookingForm" onsubmit="submitBooking(event)">
                <div class="form-group">
                    <label for="patientName">Your Name:</label>
                    <input type="text" id="patientName" required>
                </div>

                <div class="form-group">
                    <label for="doctorSelect">Select Doctor:</label>
                    <select id="doctorSelect" required onchange="updateAvailability()">
                        <option value="">-- Choose a doctor --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="daySelect">Select Day:</label>
                    <select id="daySelect" required onchange="updateTimeSlots()">
                        <option value="">-- Choose a day --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="timeSelect">Select Time:</label>
                    <select id="timeSelect" required onchange="checkQueue()">
                        <option value="">-- Choose a time --</option>
                    </select>
                </div>

                <div id="queueInfo" class="queue-info hidden">
                    <p id="queueText"></p>
                </div>

                <button type="submit" class="submit-btn">Confirm Booking</button>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
